# Database configuration using IAM authentication
# Using cloud-sql-python-connector for Cloud SQL
CLOUD_DB_ENABLED=true
CLOUD_DB_CONNECTION_STRING=postgresql+pg8000://map-sa:postgres@/construction_map?unix_sock=/cloudsql/deep-responder-444017-h2:us-central1:construction-map-db-2/.s.PGSQL.5432
CLOUD_DB_INSTANCE=deep-responder-444017-h2:us-central1:construction-map-db-2
CLOUD_DB_NAME=construction_map
CLOUD_DB_USER=map-sa
CLOUD_DB_PASSWORD=postgres
CLOUD_DB_POOL_SIZE=10
CLOUD_DB_MAX_OVERFLOW=20
CLOUD_DB_POOL_TIMEOUT=30
CLOUD_DB_POOL_RECYCLE=1800
CLOUD_DB_SSL_MODE=require
CLOUD_DB_IAM_AUTHENTICATION=false

# App settings
SECRET_KEY=3e08dde562fdd25e09c65b47b5d4a9e10e1d5e8ed2d34fc783cb0ecdb2fef77e
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
DEBUG=true

# Port setting (Cloud Run uses PORT environment variable)
PORT=8080

# Logging and monitoring
LOG_PATH=/app/logs
SLOW_QUERY_THRESHOLD=0.5
ACTIVITY_RETENTION_DAYS=90
MAX_ACTIVITIES_PER_USER=1000

# Storage - Use Google Cloud Storage
USE_CLOUD_STORAGE=true
CLOUD_STORAGE_BUCKET=construction-map-storage-deep-responder-444017-h2 